

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>select &mdash; documentación de Klear Tutorial - 1.0</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/klear.png"/>
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  

    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:'../../',
        VERSION:'1.0',
        COLLAPSE_INDEX:false,
        FILE_SUFFIX:'.html',
        HAS_SOURCE:  true
      };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../_static/translations.js"></script>

    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
    <link rel="top" title="documentación de Klear Tutorial - 1.0" href="../../index.html"/>
        <link rel="up" title="Tipos de Campos" href="index.html"/>
        <link rel="next" title="text" href="text.html"/>
        <link rel="prev" title="picker" href="picker.html"/> 

  <script src="//cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="../../index.html" class="icon icon-home"> Klear Tutorial</a>
        <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
  <input type="text" name="q" placeholder="Buscar documentos" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../environment/index.html">Instalación del entorno</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../environment/apache.html">Apache</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../environment/php.html">PHP</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../environment/mysql.html">MySQL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../environment/phing.html">Phing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../environment/zend.html">Zend</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../environment/klear.html">Klear</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../createProject/index.html">Creación del Proyecto</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../createProject/createEclipseProject.html">Crear el proyecto en Eclipse</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../createProject/structure.html">Crear la estructura de directorios del proyecto</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../createProject/zendProject.html">Crear proyecto Zend Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../createProject/klear.html">Configuración Klear</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../createProject/phing.html">Phing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../createProject/sqlsklear.html">SQLs Klear</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../createProject/generadoresDB.html">Generadores</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../joinProject/index.html">Unirse a un proyecto ya creado</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../joinProject/index.html#crear-un-proyecto-en-eclipse">Crear un proyecto en Eclipse</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../joinProject/index.html#obtener-el-proyecto">Obtener el proyecto</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../joinProject/index.html#bases-de-datos">Bases de Datos</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../ini/index.html">Ficheros INI</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../ini/application-ini.html">application.ini</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ini/klear-ini.html">klear.ini</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../databases/index.html">Gestión de las Bases de Datos</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../databases/phing.html">Phing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../databases/generator.html">Generador: Base de Datos</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../modelsMappers/index.html">Models y Mappers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../modelsMappers/generator.html">Generador</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../modelsMappers/models.html">Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../modelsMappers/mappers.html">Mappers</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Yaml</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../generator.html">Generador: Yaml</a></li>
<li class="toctree-l2"><a class="reference internal" href="../klear-yaml.html">Klear.yaml</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general.html">Configuración general</a></li>
<li class="toctree-l2"><a class="reference internal" href="../list.html">Configuración lists</a></li>
<li class="toctree-l2"><a class="reference internal" href="../edit.html">Configuración edit/new</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dashboard.html">Configuración Dashboard</a></li>
<li class="toctree-l2"><a class="reference internal" href="../charts.html">Configuración Googlecharts</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Tipos de Campos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dialogs.html">Dialogs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../iconos.html">Iconos</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../translate/index.html">Traducciones</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../translate/index.html#definicion-de-idiomas">Definición de idiomas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../translate/index.html#estructura-de-los-directorios">Estructura de los directórios</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../translate/index.html#traduccion">Traducción</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../translate/index.html#poedit">Poedit</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../authCustom/index.html">Auth Custom</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../authCustom/roles.html">Roles</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../authCustom/klear.html">Zona Klear</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../authCustom/public.html">Zona Pública</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../customScreen/index.html">Custom screen</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../customScreen/index.html#configuracion">Configuración</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../dynamicConfigClass/index.html">Klear Dinámico</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../dynamicConfigClass/index.html#ejemplo-klearintervals">Ejemplo klearIntervals</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../klearGallery/index.html">Klear Gallery</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../klearGallery/index.html#esquema-de-base-de-datos">Esquema de base de datos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../klearGallery/index.html#configuracion-de-la-galeria">Configuración de la Galería</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../klearGallery/index.html#integracion-con-wymeditor">Integración con wymeditor</a></li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top">
        <i data-toggle="wy-nav-top" class="icon icon-reorder"></i>
        <a href="/">Klear Tutorial</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <ul class="wy-breadcrumbs">
  <li><a href="../../index.html">Docs</a> &raquo;</li>
  <li><a href="">select</a></li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="../../_sources/yaml/fields/select.txt" rel="nofollow"> Ver origen</a>
      
    </li>
</ul>
<hr/>

          
  <div class="section" id="select">
<h1>select<a class="headerlink" href="#select" title="Enlazar permanentemente con este título">¶</a></h1>
<ul class="simple">
<li>Volver a <a class="reference internal" href="index.html#tipos-de-campos"><em>Tipos de Campos</em></a></li>
</ul>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#select-mapper" id="id1">Select Mapper</a></li>
<li><a class="reference internal" href="#select-inline" id="id2">Select Inline</a></li>
<li><a class="reference internal" href="#ejemplo-visualfilter" id="id3">Ejemplo visualFilter</a></li>
<li><a class="reference internal" href="#ejemplo-data-autofilter-select-by-data-extradataattributes" id="id4">Ejemplo data-autofilter-select-by-data / extraDataAttributes</a></li>
<li><a class="reference internal" href="#ejemplo-rawcondition" id="id5">Ejemplo rawCondition</a></li>
<li><a class="reference internal" href="#ejemplo-filterclass" id="id6">Ejemplo filterClass</a></li>
<li><a class="reference internal" href="#ejemplo-autocomplete" id="id7">Ejemplo autocomplete</a><ul>
<li><a class="reference internal" href="#propiedades-comandos" id="id8">Propiedades Comandos</a></li>
</ul>
</li>
</ul>
</div>
<p>Este campo nos listará los datos desde un mapper (los valores que tenemos en una base de datos) o de una lista manual.</p>
<div class="section" id="select-mapper">
<span id="selectmapper"></span><h2><a class="toc-backref" href="#id1">Select Mapper</a><a class="headerlink" href="#select-mapper" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Este tipo de Select nos lista todas los valores que tenemos en una base de datos.</p>
<div class="highlight-yaml"><div class="highlight"><pre> <span class="l-Scalar-Plain">fieldName</span><span class="p-Indicator">:</span>
   <span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">_(&#39;Field Name&#39;)</span>
<span class="hll">   <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">select</span>
</span><span class="hll">   <span class="l-Scalar-Plain">source</span><span class="p-Indicator">:</span>
</span><span class="hll">     <span class="l-Scalar-Plain">data</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">mapper</span>
</span><span class="hll">     <span class="l-Scalar-Plain">config</span><span class="p-Indicator">:</span>
</span><span class="hll">       <span class="s">&#39;null&#39;</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">_(&quot;Sin asignar&quot;)</span>
</span><span class="hll">       <span class="l-Scalar-Plain">mapperName</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">\MyApp\Mapper\Sql\Entity</span>
</span><span class="hll">       <span class="l-Scalar-Plain">fieldName</span><span class="p-Indicator">:</span>
</span><span class="hll">         <span class="l-Scalar-Plain">fields</span><span class="p-Indicator">:</span>
</span><span class="hll">           <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span>
</span><span class="hll">         <span class="l-Scalar-Plain">template</span><span class="p-Indicator">:</span> <span class="s">&#39;%name%&#39;</span>
</span>       <span class="l-Scalar-Plain">order</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">name</span>
</pre></div>
</div>
<ul class="simple">
<li><strong>attributes</strong>: Añade un atributo al elemento “select” con el nombre indicado en la clave y el valor, en el ejemplo: &lt;select data-autofilter-select-by-data=“field2:label”&gt;. Si el nombre de la clave es “data-autofilter-select-by-data” se relaciona con otro “select” para mostrar solo datos relacionados con el valor elegido en este “select” (ver extraDataAttributes)</li>
<li><strong>&#8216;null&#8217;</strong>: Si acepta valor nulo, este será el texto que se mostrará en el campo si no selecciona algún valor.</li>
<li><strong>mapperName</strong>: el mapper del cual vamos a sacar los datos</li>
<li><strong>fieldName</strong>: el campo que mostramos. Puede ser solamente un campo (ejemplo, fieldName: entity_name) o varios campos indicados en fields y en template formamos el texto a mostrar, indicando cada campo entre %%</li>
<li><strong>order</strong>: el campo por el cual ordenamos al mostrar los valores en el “select”</li>
</ul>
</div>
<div class="section" id="select-inline">
<span id="selectinline"></span><h2><a class="toc-backref" href="#id2">Select Inline</a><a class="headerlink" href="#select-inline" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Este tipo de select nos lista los valores que le indiquemos manualmente.</p>
<div class="highlight-yaml"><div class="highlight"><pre> <span class="l-Scalar-Plain">fieldName</span><span class="p-Indicator">:</span>
   <span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">_(&#39;Field Name&#39;)</span>
<span class="hll">   <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">select</span>
</span><span class="hll">   <span class="l-Scalar-Plain">defaultValue</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">0</span>
</span><span class="hll">   <span class="l-Scalar-Plain">source</span><span class="p-Indicator">:</span>
</span><span class="hll">     <span class="l-Scalar-Plain">data</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">inline</span>
</span><span class="hll">     <span class="l-Scalar-Plain">values</span><span class="p-Indicator">:</span>
</span><span class="hll">       <span class="s">&#39;0&#39;</span><span class="p-Indicator">:</span>
</span><span class="hll">         <span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">_(&quot;No&quot;)</span>
</span><span class="hll">       <span class="s">&#39;1&#39;</span><span class="p-Indicator">:</span>
</span><span class="hll">         <span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">_(&quot;Yes&quot;)</span>
</span></pre></div>
</div>
<ul class="simple">
<li><strong>values</strong>: los valores a mostrar en el “select”. Se puede en forma de “clave:valor” o como en el ejemplo.</li>
<li><strong>order</strong>: si el valor es true, ordena los valores alfabeticamente a mostrar en el “select”. En caso contrario, los muestra en el orden que estén puestos en la configuración.</li>
</ul>
</div>
<div class="section" id="ejemplo-visualfilter">
<h2><a class="toc-backref" href="#id3">Ejemplo visualFilter</a><a class="headerlink" href="#ejemplo-visualfilter" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Según la opción que elegimos en un select, podemos hacer aparecer u ocultar otros campos del SCREEN EDIT o NEW.</p>
<div class="highlight-yaml"><div class="highlight"><pre> <span class="l-Scalar-Plain">fieldName</span><span class="p-Indicator">:</span>
   <span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">_(&#39;Field Name&#39;)</span>
   <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">select</span>
   <span class="l-Scalar-Plain">defaultValue</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">0</span>
   <span class="l-Scalar-Plain">source</span><span class="p-Indicator">:</span>
     <span class="l-Scalar-Plain">data</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">inline</span>
     <span class="l-Scalar-Plain">values</span><span class="p-Indicator">:</span>
       <span class="s">&#39;0&#39;</span><span class="p-Indicator">:</span>
         <span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">_(&quot;No&quot;)</span>
<span class="hll">         <span class="l-Scalar-Plain">visualFilter</span><span class="p-Indicator">:</span>
</span><span class="hll">           <span class="l-Scalar-Plain">show</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span><span class="s">&quot;Field&quot;</span><span class="p-Indicator">,</span> <span class="s">&quot;Field2&quot;</span><span class="p-Indicator">]</span>
</span><span class="hll">           <span class="l-Scalar-Plain">hide</span><span class="p-Indicator">:</span> <span class="p-Indicator">[]</span>
</span>       <span class="s">&#39;1&#39;</span><span class="p-Indicator">:</span>
         <span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">_(&quot;Yes&quot;)</span>
<span class="hll">         <span class="l-Scalar-Plain">visualFilter</span><span class="p-Indicator">:</span>
</span><span class="hll">            <span class="l-Scalar-Plain">show</span><span class="p-Indicator">:</span> <span class="p-Indicator">[]</span>
</span><span class="hll">            <span class="l-Scalar-Plain">hide</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span><span class="s">&quot;Field&quot;</span><span class="p-Indicator">,</span> <span class="s">&quot;Field2&quot;</span><span class="p-Indicator">]</span>
</span></pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Por cada valor, podemos indicar que campos se muestra u ocultan. En nuestro ejemplo, al seleccionar el valor &#8216;0&#8217;, Mostrará
los campos &#8216;Field&#8217; y &#8216;Field2&#8217;. En cambio, el valor &#8216;1&#8217; las ocultará.</p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">Ver también</p>
<p class="last">Aunque el ejemplo es del tipo <a class="reference internal" href="#selectinline"><em>Select Inline</em></a>, también funciona para el <a class="reference internal" href="#selectmapper"><em>Select Mapper</em></a>.</p>
</div>
</div>
<div class="section" id="ejemplo-data-autofilter-select-by-data-extradataattributes">
<h2><a class="toc-backref" href="#id4">Ejemplo data-autofilter-select-by-data / extraDataAttributes</a><a class="headerlink" href="#ejemplo-data-autofilter-select-by-data-extradataattributes" title="Enlazar permanentemente con este título">¶</a></h2>
<p>La opción de este Select solo funciona cuando una segunda tabla tiene relación con la primera. Su función consiste en que si es
elegido un valor en el primer select, el segundo select listará todos los valores de la otra tabla si están relacionadas.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Todo lo señado con el número <strong>&#8220;1&#8221;</strong> tienen relación con la primera tabla y <strong>&#8220;2&#8221;</strong> con la segunda tabla.</p>
</div>
<div class="highlight-yaml"><div class="highlight"><pre> <span class="l-Scalar-Plain">field1Id</span><span class="p-Indicator">:</span>
   <span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">_(&#39;field 1 Name&#39;)</span>
   <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">select</span>
<span class="hll">   <span class="l-Scalar-Plain">attributes</span><span class="p-Indicator">:</span>
</span><span class="hll">     <span class="l-Scalar-Plain">data-autofilter-select-by-data</span><span class="p-Indicator">:</span> <span class="s">&quot;field2Id:table1&quot;</span>
</span>   <span class="l-Scalar-Plain">source</span><span class="p-Indicator">:</span>
<span class="hll">     <span class="l-Scalar-Plain">data</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">mapper</span>
</span>     <span class="l-Scalar-Plain">config</span><span class="p-Indicator">:</span>
<span class="hll">       <span class="s">&#39;null&#39;</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">_(&quot;Unasigned&quot;)</span>
</span><span class="hll">       <span class="l-Scalar-Plain">mapperName</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">\MyApp\Mapper\Sql\Entity1</span>
</span><span class="hll">       <span class="l-Scalar-Plain">fieldName</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">name1</span> <span class="c1"># Nombre de la columna que se listará en el Select</span>
</span><span class="hll">       <span class="l-Scalar-Plain">order</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">name1</span>
</span>
 <span class="l-Scalar-Plain">field2Id</span><span class="p-Indicator">:</span>
   <span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">_(&#39;Field 2 Name&#39;)</span>
   <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">select</span>
   <span class="l-Scalar-Plain">source</span><span class="p-Indicator">:</span>
<span class="hll">     <span class="l-Scalar-Plain">data</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">mapper</span>
</span>     <span class="l-Scalar-Plain">config</span><span class="p-Indicator">:</span>
       <span class="s">&#39;null&#39;</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">_(&quot;Unasigned&quot;)</span>
<span class="hll">       <span class="l-Scalar-Plain">mapperName</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">\Myapp\Mapper\Sql\Entity2</span>
</span><span class="hll">       <span class="l-Scalar-Plain">fieldName</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">name2</span>
</span><span class="hll">       <span class="l-Scalar-Plain">extraDataAttributes</span><span class="p-Indicator">:</span>
</span><span class="hll">         <span class="l-Scalar-Plain">table</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">field1Id</span>
</span><span class="hll">       <span class="l-Scalar-Plain">order</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">name2</span>
</span></pre></div>
</div>
<ul class="simple">
<li><strong>attributes</strong>: Añade un atributo al elemento “select” con el nombre indicado en la clave y el valor, en el ejemplo: &lt;select data-autofilter-select-by-data=“field2Id:table1”&gt;. Si el nombre de la clave es “data-autofilter-select-by-data” se relaciona con otro “select” para mostrar solo datos relacionados con el valor elegido en este “select” <em>(&#8220;extraDataAttributes&#8221;)</em>.</li>
<li><strong>extraDataAttributes</strong>: a cada “option” del “select” añadir un “data-xxxxx”, donde “xxxxx” será la clave y en el valor irá el valor del campo “anotherFieldAtEntity”, que debe existir en el modelo del mapperName.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">En resumen, se trata de dos select cuyo listado de uno, depende del otro. Más abajo le ponemos un ejemplo con la tabla <strong>&#8220;Country&#8221;</strong> y <strong>&#8220;Timezones&#8221;</strong>,
donde <strong>Timezones</strong> tiene valores relacionados con los valores de <strong>Country</strong>. Tiene la función de listarme todas las zonas
horarias según al país que elija antes.</p>
</div>
<div class="highlight-yaml"><div class="highlight"><pre> <span class="l-Scalar-Plain">countryId</span><span class="p-Indicator">:</span>
   <span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">_(&#39;Country&#39;)</span>
   <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">select</span>
<span class="hll">   <span class="l-Scalar-Plain">attributes</span><span class="p-Indicator">:</span>
</span><span class="hll">     <span class="l-Scalar-Plain">data-autofilter-select-by-data</span><span class="p-Indicator">:</span> <span class="s">&quot;timezoneId:country&quot;</span>
</span>   <span class="l-Scalar-Plain">source</span><span class="p-Indicator">:</span>
<span class="hll">     <span class="l-Scalar-Plain">data</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">mapper</span>
</span>     <span class="l-Scalar-Plain">config</span><span class="p-Indicator">:</span>
<span class="hll">       <span class="s">&#39;null&#39;</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">_(&quot;Unasigned&quot;)</span>
</span><span class="hll">       <span class="l-Scalar-Plain">mapperName</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">\KlearInterval\Mapper\Sql\Countries</span>
</span><span class="hll">       <span class="l-Scalar-Plain">fieldName</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">name</span>
</span><span class="hll">       <span class="l-Scalar-Plain">order</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">name_${lang}</span>
</span>
 <span class="l-Scalar-Plain">timezoneId</span><span class="p-Indicator">:</span>
   <span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">_(&#39;Timezone&#39;)</span>
   <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">select</span>
   <span class="l-Scalar-Plain">source</span><span class="p-Indicator">:</span>
<span class="hll">     <span class="l-Scalar-Plain">data</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">mapper</span>
</span>     <span class="l-Scalar-Plain">config</span><span class="p-Indicator">:</span>
       <span class="s">&#39;null&#39;</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">_(&quot;Unasigned&quot;)</span>
<span class="hll">       <span class="l-Scalar-Plain">mapperName</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">\KlearInterval\Mapper\Sql\Timezones</span>
</span><span class="hll">       <span class="l-Scalar-Plain">fieldName</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">tz</span>
</span><span class="hll">       <span class="l-Scalar-Plain">extraDataAttributes</span><span class="p-Indicator">:</span>
</span><span class="hll">         <span class="l-Scalar-Plain">country</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">countryId</span>
</span><span class="hll">       <span class="l-Scalar-Plain">order</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">tz</span>
</span></pre></div>
</div>
<img alt="../../_images/country-timezone.png" src="../../_images/country-timezone.png" />
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last"><strong>${lang}</strong> es un valor que se ofrece cuando un usuario se identifica, tienes que ser configurado previamente. Relacionado con Auth Custom</p>
</div>
</div>
<div class="section" id="ejemplo-rawcondition">
<span id="ejemplofilterclassselect"></span><h2><a class="toc-backref" href="#id5">Ejemplo rawCondition</a><a class="headerlink" href="#ejemplo-rawcondition" title="Enlazar permanentemente con este título">¶</a></h2>
<p>Con esto filtramos el select de forma rápida sin necesidad de crear un filterClass.</p>
<div class="highlight-yaml"><div class="highlight"><pre> <span class="l-Scalar-Plain">fieldName</span><span class="p-Indicator">:</span>
   <span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">_(&#39;Field Name&#39;)</span>
   <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">select</span>
   <span class="l-Scalar-Plain">source</span><span class="p-Indicator">:</span>
     <span class="l-Scalar-Plain">data</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">mapper</span>
     <span class="l-Scalar-Plain">config</span><span class="p-Indicator">:</span>
       <span class="s">&#39;null&#39;</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">_(&quot;Unasigned&quot;)</span>
       <span class="l-Scalar-Plain">mapperName</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">\MyApp\Mapper\Sql\Entity</span>
<span class="hll">       <span class="l-Scalar-Plain">rawCondition</span><span class="p-Indicator">:</span> <span class="s">&quot;name</span><span class="nv"> </span><span class="s">like</span><span class="nv"> </span><span class="s">&#39;irontec&#39;&quot;</span>
</span>       <span class="l-Scalar-Plain">fieldName</span><span class="p-Indicator">:</span>
         <span class="l-Scalar-Plain">fields</span><span class="p-Indicator">:</span>
           <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span>
         <span class="l-Scalar-Plain">template</span><span class="p-Indicator">:</span> <span class="s">&#39;%name%&#39;</span>
       <span class="l-Scalar-Plain">order</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">name</span>
</pre></div>
</div>
<div class="admonition attention">
<p class="first admonition-title">Atención</p>
<p class="last">Al usar rawCondition se ignora filterClass</p>
</div>
</div>
<div class="section" id="ejemplo-filterclass">
<h2><a class="toc-backref" href="#id6">Ejemplo filterClass</a><a class="headerlink" href="#ejemplo-filterclass" title="Enlazar permanentemente con este título">¶</a></h2>
<p>El ejemplo FilterClass del select es similar al <a class="reference internal" href="multiselect.html#ejemplofilterclass"><em>Ejemplo filterClass</em></a> del Multiselect.</p>
<div class="highlight-yaml"><div class="highlight"><pre> <span class="l-Scalar-Plain">fieldName</span><span class="p-Indicator">:</span>
   <span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">_(&#39;Field Name&#39;)</span>
   <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">select</span>
   <span class="l-Scalar-Plain">source</span><span class="p-Indicator">:</span>
     <span class="l-Scalar-Plain">data</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">mapper</span>
     <span class="l-Scalar-Plain">config</span><span class="p-Indicator">:</span>
       <span class="s">&#39;null&#39;</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">_(&quot;Unasigned&quot;)</span>
       <span class="l-Scalar-Plain">mapperName</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">\MyApp\Mapper\Sql\Entity</span>
<span class="hll">       <span class="l-Scalar-Plain">filterClass</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">MyApplib_Filter_Name</span>
</span>       <span class="l-Scalar-Plain">fieldName</span><span class="p-Indicator">:</span>
         <span class="l-Scalar-Plain">fields</span><span class="p-Indicator">:</span>
           <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span>
         <span class="l-Scalar-Plain">template</span><span class="p-Indicator">:</span> <span class="s">&#39;%name%&#39;</span>
       <span class="l-Scalar-Plain">order</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">name</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Por formalidad, el siguiente archivo php lo solemos crear en nuestra carpeta <strong>library/Applicationlib/Filter</strong>.</p>
</div>
<div class="highlight-php"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33</pre></div></td><td class="code"><div class="highlight"><pre><span class="cp">&lt;?php</span>

<span class="hll"><span class="k">class</span> <span class="nc">MyApplib_Filter_Name</span> <span class="k">implements</span> <span class="nx">KlearMatrix_Model_Field_Select_Filter_Interface</span>
</span><span class="p">{</span>
<span class="hll">    <span class="k">protected</span> <span class="nv">$_condition</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>
</span>
<span class="hll">    <span class="k">public</span> <span class="k">function</span> <span class="nf">setRouteDispatcher</span><span class="p">(</span><span class="nx">KlearMatrix_Model_RouteDispatcher</span> <span class="nv">$routeDispatcher</span><span class="p">)</span>
</span><span class="hll">    <span class="p">{</span>
</span><span class="hll">        <span class="c1">//Get Action</span>
</span><span class="hll">        <span class="nv">$currentAction</span> <span class="o">=</span> <span class="nv">$routeDispatcher</span><span class="o">-&gt;</span><span class="na">getActionName</span><span class="p">();</span>
</span><span class="hll">
</span><span class="hll">        <span class="c1">//Get Controller</span>
</span><span class="hll">        <span class="nv">$currentController</span> <span class="o">=</span> <span class="nv">$routeDispatcher</span><span class="o">-&gt;</span><span class="na">getControllerName</span><span class="p">();</span>
</span><span class="hll">
</span><span class="hll">        <span class="c1">//Get ModelName and your Controller</span>
</span><span class="hll">        <span class="nv">$currentItemName</span> <span class="o">=</span> <span class="nv">$routeDispatcher</span><span class="o">-&gt;</span><span class="na">getCurrentItemName</span><span class="p">();</span>
</span><span class="hll">
</span><span class="hll">        <span class="c1">//NUESTRA CONDICIÓN CON CODIO WHERE MYSQL</span>
</span><span class="hll">        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">_condition</span><span class="p">[]</span> <span class="o">=</span> <span class="s2">&quot;active = 1&quot;</span><span class="p">;</span>
</span><span class="hll">        <span class="c1">//En este ejemplo decimos que solo muestre los valores cuyo campo Active = 1</span>
</span><span class="hll">
</span><span class="hll">        <span class="k">return</span> <span class="k">true</span><span class="p">;</span>
</span><span class="hll">    <span class="p">}</span>
</span>
<span class="hll">    <span class="k">public</span> <span class="k">function</span> <span class="nf">getCondition</span><span class="p">()</span>
</span><span class="hll">    <span class="p">{</span>
</span><span class="hll">        <span class="k">if</span> <span class="p">(</span><span class="nb">count</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">_condition</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span><span class="hll">            <span class="k">return</span> <span class="s1">&#39;(&#39;</span> <span class="o">.</span> <span class="nb">implode</span><span class="p">(</span><span class="s2">&quot; AND &quot;</span><span class="p">,</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">_condition</span><span class="p">)</span> <span class="o">.</span> <span class="s1">&#39;)&#39;</span><span class="p">;</span>
</span><span class="hll">        <span class="p">}</span>
</span><span class="hll">        <span class="k">return</span><span class="p">;</span>
</span><span class="hll">    <span class="p">}</span>
</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="ejemplo-autocomplete">
<h2><a class="toc-backref" href="#id7">Ejemplo autocomplete</a><a class="headerlink" href="#ejemplo-autocomplete" title="Enlazar permanentemente con este título">¶</a></h2>
<div class="highlight-yaml"><div class="highlight"><pre><span class="l-Scalar-Plain">fieldName</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">select</span>
  <span class="l-Scalar-Plain">source</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">data</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">mapper</span>
    <span class="l-Scalar-Plain">config</span><span class="p-Indicator">:</span>
      <span class="s">&#39;null&#39;</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">_(&quot;Unasigned&quot;)</span>
      <span class="l-Scalar-Plain">mapperName</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">\MyApp\Mapper\Sql\Entity</span>
      <span class="l-Scalar-Plain">fieldName</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">fields</span><span class="p-Indicator">:</span>
          <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span>
        <span class="l-Scalar-Plain">template</span><span class="p-Indicator">:</span> <span class="s">&#39;%name%&#39;</span>
      <span class="l-Scalar-Plain">order</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">name</span>
<span class="hll">  <span class="l-Scalar-Plain">decorators</span><span class="p-Indicator">:</span>
</span><span class="hll">    <span class="l-Scalar-Plain">autocomplete</span><span class="p-Indicator">:</span>
</span><span class="hll">      <span class="l-Scalar-Plain">command</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">autocomplete_command</span>
</span></pre></div>
</div>
<p>En el <strong>YAML LIST</strong> que usará el campo select autocomplete, la sección <strong>&#8220;commands&#8221;</strong> debe contener lo siguiente:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="l-Scalar-Plain">commands</span><span class="p-Indicator">:</span>
<span class="hll">  <span class="l-Scalar-Plain">autocomplete_command</span><span class="p-Indicator">:</span>
</span><span class="hll">    <span class="l-Scalar-Plain">&lt;&lt;</span><span class="p-Indicator">:</span> <span class="nv">*Entity</span>
</span><span class="hll">    <span class="l-Scalar-Plain">controller</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">field-decorator</span>
</span><span class="hll">    <span class="l-Scalar-Plain">action</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">index</span>
</span><span class="hll">    <span class="l-Scalar-Plain">autocomplete</span><span class="p-Indicator">:</span>
</span><span class="hll">      <span class="l-Scalar-Plain">mapperName</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">\MyApp\Mapper\Sql\Entity</span>
</span><span class="hll">      <span class="l-Scalar-Plain">filterClass</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Filter_Class_Name</span>
</span><span class="hll">      <span class="l-Scalar-Plain">condition</span><span class="p-Indicator">:</span> <span class="s">&#39;value</span><span class="nv"> </span><span class="s">=</span><span class="nv"> </span><span class="s">0&#39;</span>
</span><span class="hll">      <span class="l-Scalar-Plain">label</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">name</span>
</span><span class="hll">      <span class="l-Scalar-Plain">fieldName</span><span class="p-Indicator">:</span>
</span><span class="hll">        <span class="l-Scalar-Plain">fields</span><span class="p-Indicator">:</span>
</span><span class="hll">          <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span>
</span><span class="hll">        <span class="l-Scalar-Plain">template</span><span class="p-Indicator">:</span> <span class="s">&#39;%name%&#39;</span>
</span><span class="hll">      <span class="l-Scalar-Plain">limit</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">8</span>
</span><span class="hll">      <span class="l-Scalar-Plain">order</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">name</span>
</span></pre></div>
</div>
<div class="section" id="propiedades-comandos">
<h3><a class="toc-backref" href="#id8">Propiedades Comandos</a><a class="headerlink" href="#propiedades-comandos" title="Enlazar permanentemente con este título">¶</a></h3>
<ul class="simple">
<li><strong>mapperName</strong>: El mismo del relatedMapperName, la entidad donde se buscará los valores.</li>
<li><strong>filterClass</strong>: Clase por la cual se filtra el resultado, <strong>no vale con ponerlo en el model</strong>, hay que definirlo dentro del command del autocomplete también. <a class="reference internal" href="#ejemplofilterclassselect"><em>Ejemplo rawCondition</em></a></li>
<li><strong>condition</strong>: Condición que se mete “en caliente”. Si filterClass está también definido saltará una excepción. Únicamente debe definirse uno de los dos.</li>
<li><strong>label</strong>: El mismo de “relatedFieldName”, listará los valores de dicho campo.</li>
<li><strong>fieldName</strong>: Si queremos mostrar más de un campo como label, se pueden definir varios y un template, igual que en la configuración de un select.</li>
<li><strong>limit</strong>: Número máximo de elementos que salen en el autocompletado (sale un campito al lado diciendo cuántos elementos hay en total).</li>
<li><strong>order</strong>: Campo por le cual se ordena el listado. Se puede añadir mas de un campo separado por <strong>”,”</strong>.</li>
</ul>
<img alt="../../_images/select-autocomplete.png" src="../../_images/select-autocomplete.png" />
</div>
</div>
</div>


          <footer>
  
    <div class="rst-footer-buttons">
      
        <a href="text.html" class="btn btn-neutral float-right" title="text"/>Siguiente <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="picker.html" class="btn btn-neutral" title="picker"><span class="icon icon-circle-arrow-left"></span> Anterior</a>
      
    </div>
  

  <hr/>

  <p>
      &copy; Copyright 2014, Irontec.
  </p>

  <a href="https://www.github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="http://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  

</body>
</html>